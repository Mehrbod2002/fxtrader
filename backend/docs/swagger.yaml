definitions:
  api.AdminLoginRequest:
    properties:
      password:
        type: string
      username:
        type: string
    required:
    - password
    - username
    type: object
  api.AlertRequest:
    properties:
      alert_type:
        allOf:
        - $ref: '#/definitions/models.AlertType'
        enum:
        - PRICE
        - TIME
      condition:
        $ref: '#/definitions/models.AlertCondition'
      notification_method:
        enum:
        - SMS
        - EMAIL
        type: string
      symbol_name:
        type: string
    required:
    - alert_type
    - condition
    - notification_method
    - symbol_name
    type: object
  api.CopyTradeRequest:
    properties:
      account_type:
        type: string
      allocated_amount:
        type: number
      leader_id:
        type: string
    required:
    - account_type
    - allocated_amount
    - leader_id
    type: object
  api.CreateLeaderRequest:
    properties:
      reason:
        type: string
    required:
    - reason
    type: object
  api.LoginRequest:
    properties:
      telegram_id:
        type: string
    required:
    - telegram_id
    type: object
  api.ManageLeaderRequest:
    properties:
      admin_reason:
        type: string
    required:
    - admin_reason
    type: object
  api.ModifyTradeRequest:
    properties:
      account_type:
        type: string
      entry_price:
        type: number
      volume:
        type: number
    required:
    - account_type
    type: object
  api.OverviewResponse:
    properties:
      pending_trades:
        type: integer
      pending_transactions:
        type: integer
      symbols:
        type: integer
      top_symbols:
        items:
          $ref: '#/definitions/api.SymbolUsage'
        type: array
      total_trades:
        type: integer
      total_transactions:
        type: integer
      user_count:
        type: integer
    type: object
  api.PaginatedReferralsResponse:
    properties:
      limit:
        type: integer
      page:
        type: integer
      total:
        type: integer
      total_pages:
        type: integer
      users:
        items:
          $ref: '#/definitions/api.UserReferralResponse'
        type: array
    type: object
  api.SymbolUsage:
    properties:
      symbol_name:
        type: string
      trade_count:
        type: integer
    type: object
  api.TradeRequest:
    properties:
      account_type:
        type: string
      entry_price:
        type: number
      expiration:
        type: string
      leverage:
        type: integer
      order_type:
        enum:
        - MARKET
        - BUY_STOP
        - SELL_STOP
        - BUY_LIMIT
        - SELL_LIMIT
        type: string
      stop_loss:
        minimum: 0
        type: number
      symbol_name:
        type: string
      take_profit:
        minimum: 0
        type: number
      trade_type:
        allOf:
        - $ref: '#/definitions/models.TradeType'
        enum:
        - BUY
        - SELL
      volume:
        type: number
    required:
    - account_type
    - leverage
    - order_type
    - symbol_name
    - trade_type
    - volume
    type: object
  api.TransactionRequest:
    properties:
      amount:
        type: number
      payment_method:
        allOf:
        - $ref: '#/definitions/models.PaymentMethod'
        enum:
        - CARD_TO_CARD
        - DEPOSIT_RECEIPT
      receipt_image:
        type: string
      transaction_type:
        allOf:
        - $ref: '#/definitions/models.TransactionType'
        enum:
        - DEPOSIT
        - WITHDRAWAL
    required:
    - amount
    - payment_method
    - transaction_type
    type: object
  api.TransactionReviewRequest:
    properties:
      admin_note:
        type: string
      status:
        allOf:
        - $ref: '#/definitions/models.TransactionStatus'
        enum:
        - APPROVED
        - REJECTED
    required:
    - status
    type: object
  api.UserActivationRequest:
    properties:
      is_active:
        type: boolean
      user_id:
        type: string
    required:
    - user_id
    type: object
  api.UserReferralResponse:
    properties:
      referral_code:
        type: string
      referred_by:
        type: string
      referred_users:
        items:
          type: string
        type: array
      user_id:
        type: string
      username:
        type: string
    type: object
  interfaces.TradeResponse:
    properties:
      account_type:
        type: string
      close_price:
        type: number
      close_reason:
        type: string
      matched_trade_id:
        type: string
      matched_volume:
        type: number
      status:
        type: string
      timestamp:
        type: number
      trade_id:
        type: string
      user_id:
        type: string
    type: object
  models.ActivceStatus:
    enum:
    - active
    - inactive
    type: string
    x-enum-varnames:
    - Active
    - Inactive
  models.Alert:
    properties:
      _id:
        type: string
      alert_type:
        $ref: '#/definitions/models.AlertType'
      condition:
        $ref: '#/definitions/models.AlertCondition'
      created_at:
        type: string
      notification_method:
        type: string
      status:
        $ref: '#/definitions/models.AlertStatus'
      symbol_name:
        type: string
      triggered_at:
        type: string
      user_id:
        type: string
    type: object
  models.AlertCondition:
    properties:
      price_target:
        type: number
      sl:
        type: number
      tp:
        type: number
      trigger_time:
        type: string
    type: object
  models.AlertStatus:
    enum:
    - PENDING
    - TRIGGERED
    - EXPIRED
    type: string
    x-enum-varnames:
    - AlertStatusPending
    - AlertStatusTriggered
    - AlertStatusExpired
  models.AlertType:
    enum:
    - PRICE
    - TIME
    type: string
    x-enum-varnames:
    - AlertTypePrice
    - AlertTypeTime
  models.CopyTradeSubscription:
    properties:
      _id:
        type: string
      allocated_amount:
        type: number
      created_at:
        type: string
      follower_id:
        type: string
      follower_id_telegram:
        type: string
      leader_id:
        type: string
      leader_id_telegram:
        type: string
      status:
        $ref: '#/definitions/models.ActivceStatus'
    type: object
  models.LeaderRequest:
    properties:
      admin_reason:
        type: string
      created_at:
        type: string
      id:
        type: string
      reason:
        type: string
      status:
        type: string
      telegram_id:
        type: string
      updated_at:
        type: string
      user_id:
        type: string
    type: object
  models.LogEntry:
    properties:
      _id:
        type: string
      action:
        type: string
      description:
        type: string
      ip_address:
        type: string
      metadata:
        additionalProperties: true
        type: object
      timestamp:
        type: string
      user_id:
        type: string
    type: object
  models.PaymentMethod:
    enum:
    - CARD_TO_CARD
    - DEPOSIT_RECEIPT
    type: string
    x-enum-varnames:
    - PaymentMethodCardToCard
    - PaymentMethodDepositReceipt
  models.PriceData:
    properties:
      ask:
        type: number
      bid:
        type: number
      symbol:
        type: string
      timestamp:
        type: integer
    type: object
  models.Rule:
    properties:
      _id:
        type: string
      content:
        type: string
      created_at:
        type: string
    type: object
  models.Symbol:
    properties:
      _id:
        type: string
      category:
        type: string
      commission_deposit:
        type: number
      commission_fee:
        type: number
      commission_withdrawal:
        type: number
      created_at:
        type: string
      denied_accounts:
        items:
          type: string
        type: array
      display_name:
        type: string
      is_trading_open:
        type: boolean
      leverage:
        type: integer
      max_lot:
        type: number
      min_lot:
        type: number
      spread:
        type: number
      symbol_name:
        type: string
      trading_hours:
        $ref: '#/definitions/models.TradingHours'
      updated_at:
        type: string
    type: object
  models.TradeHistory:
    properties:
      accountType:
        type: string
      closePrice:
        type: number
      closeReason:
        type: string
      closeTime:
        type: string
      entryPrice:
        type: number
      expiration:
        type: string
      id:
        type: string
      leverage:
        type: integer
      matchedTradeID:
        type: string
      openTime:
        type: string
      orderType:
        type: string
      profit:
        type: number
      status:
        type: string
      stopLoss:
        type: number
      symbol:
        type: string
      takeProfit:
        type: number
      tradeType:
        $ref: '#/definitions/models.TradeType'
      userID:
        type: string
      volume:
        type: number
    type: object
  models.TradeType:
    enum:
    - BUY
    - SELL
    type: string
    x-enum-varnames:
    - TradeTypeBuy
    - TradeTypeSell
  models.TradingHours:
    properties:
      close_time:
        type: string
      open_time:
        type: string
      unlimited:
        type: boolean
    type: object
  models.Transaction:
    properties:
      _id:
        type: string
      admin_note:
        type: string
      amount:
        type: number
      payment_method:
        $ref: '#/definitions/models.PaymentMethod'
      receipt_image:
        type: string
      request_time:
        type: string
      response_time:
        type: string
      status:
        $ref: '#/definitions/models.TransactionStatus'
      transaction_type:
        $ref: '#/definitions/models.TransactionType'
      user_id:
        type: string
    type: object
  models.TransactionStatus:
    enum:
    - PENDING
    - APPROVED
    - REJECTED
    type: string
    x-enum-varnames:
    - TransactionStatusPending
    - TransactionStatusApproved
    - TransactionStatusRejected
  models.TransactionType:
    enum:
    - DEPOSIT
    - WITHDRAWAL
    type: string
    x-enum-varnames:
    - TransactionTypeDeposit
    - TransactionTypeWithdrawal
  models.UserAccount:
    properties:
      _id:
        type: string
      account_name:
        type: string
      account_type:
        type: string
      account_types:
        items:
          type: string
        type: array
      balance:
        type: number
      birthday:
        type: string
      bonus:
        type: number
      card_number:
        type: string
      citizenship:
        type: string
      demo_mt5_balance:
        type: number
      full_name:
        type: string
      is_active:
        type: boolean
      is_copy_pending_trade_leader:
        type: boolean
      is_copy_trade_leader:
        type: boolean
      leverage:
        type: integer
      national_id:
        type: string
      phone_number:
        type: string
      real_mt5_balance:
        type: number
      referral_code:
        type: string
      referred_by:
        type: string
      registration_date:
        type: string
      residence:
        type: string
      telegram_id:
        type: string
      trade_type:
        type: string
      username:
        type: string
      wallet_address:
        type: string
    type: object
info:
  contact: {}
paths:
  /admin/login:
    post:
      consumes:
      - application/json
      description: Authenticates an admin user and returns a JWT token
      parameters:
      - description: Admin credentials
        in: body
        name: credentials
        required: true
        schema:
          $ref: '#/definitions/api.AdminLoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: JWT token
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Invalid JSON
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Invalid credentials
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Admin login
      tags:
      - Admin
  /admin/logs:
    get:
      description: Retrieves a paginated list of all system logs (admin only)
      parameters:
      - description: Page number (default 1)
        in: query
        name: page
        type: integer
      - description: Number of logs per page (default 100)
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.LogEntry'
            type: array
        "400":
          description: Invalid pagination parameters
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Failed to retrieve logs
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BasicAuth: []
      summary: Get all logs
      tags:
      - Logs
  /admin/logs/user/{user_id}:
    get:
      description: Retrieves a paginated list of logs associated with a specific user
        ID (admin only)
      parameters:
      - description: User ID
        in: path
        name: user_id
        required: true
        type: string
      - description: Page number (default 1)
        in: query
        name: page
        type: integer
      - description: Number of logs per page (default 100)
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.LogEntry'
            type: array
        "400":
          description: Invalid user ID or pagination parameters
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BasicAuth: []
      summary: Get logs by user ID
      tags:
      - Logs
  /admin/overview:
    get:
      description: Provides an overview of platform statistics
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.OverviewResponse'
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden (non-admin)
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Failed to retrieve overview data
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Admin overview
      tags:
      - Admin
  /admin/rules:
    post:
      consumes:
      - application/json
      description: Adds a new rule to the system (admin only)
      parameters:
      - description: Rule data
        in: body
        name: rule
        required: true
        schema:
          $ref: '#/definitions/models.Rule'
      produces:
      - application/json
      responses:
        "201":
          description: Rule created
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Invalid JSON or empty content
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Failed to create rule
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BasicAuth: []
      summary: Create a new rule
      tags:
      - Rules
  /admin/rules/{id}:
    delete:
      description: Removes a rule from the system (admin only)
      parameters:
      - description: Rule ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Rule deleted
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Failed to delete rule
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BasicAuth: []
      summary: Delete a rule
      tags:
      - Rules
    get:
      description: Retrieves details of a rule by ID (admin only)
      parameters:
      - description: Rule ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Rule'
        "400":
          description: Invalid rule ID
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Rule not found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BasicAuth: []
      summary: Get rule by ID
      tags:
      - Rules
    put:
      consumes:
      - application/json
      description: Updates the content of an existing rule (admin only)
      parameters:
      - description: Rule ID
        in: path
        name: id
        required: true
        type: string
      - description: Updated rule data
        in: body
        name: rule
        required: true
        schema:
          $ref: '#/definitions/models.Rule'
      produces:
      - application/json
      responses:
        "200":
          description: Rule updated
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Invalid JSON or empty content
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Failed to update rule
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BasicAuth: []
      summary: Update a rule
      tags:
      - Rules
  /admin/symbols:
    post:
      consumes:
      - application/json
      description: Adds a new trading symbol to the system (admin only)
      parameters:
      - description: Symbol data
        in: body
        name: symbol
        required: true
        schema:
          $ref: '#/definitions/models.Symbol'
      produces:
      - application/json
      responses:
        "201":
          description: Symbol created
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Invalid JSON
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Failed to create symbol
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BasicAuth: []
      summary: Create a new symbol
      tags:
      - Symbols
  /admin/symbols/{id}:
    delete:
      description: Removes a trading symbol from the system (admin only)
      parameters:
      - description: Symbol ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Symbol deleted
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Failed to delete symbol
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BasicAuth: []
      summary: Delete a symbol
      tags:
      - Symbols
    put:
      consumes:
      - application/json
      description: Updates the details of an existing trading symbol (admin only)
      parameters:
      - description: Symbol ID
        in: path
        name: id
        required: true
        type: string
      - description: Updated symbol data
        in: body
        name: symbol
        required: true
        schema:
          $ref: '#/definitions/models.Symbol'
      produces:
      - application/json
      responses:
        "200":
          description: Symbol updated
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Invalid JSON
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Failed to update symbol
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BasicAuth: []
      summary: Update a symbol
      tags:
      - Symbols
  /admin/trades:
    get:
      description: Retrieves a list of all trades (admin only)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.TradeHistory'
            type: array
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden (non-admin)
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get all trades
      tags:
      - Trades
  /admin/transactions:
    get:
      description: Retrieves a list of all transactions (admin only)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.Transaction'
            type: array
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Failed to retrieve transactions
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BasicAuth: []
      summary: Get all transactions
      tags:
      - Transactions
  /admin/transactions/{id}:
    put:
      consumes:
      - application/json
      description: Approves or rejects a transaction with an optional note (admin
        only)
      parameters:
      - description: Transaction ID
        in: path
        name: id
        required: true
        type: string
      - description: Review data
        in: body
        name: review
        required: true
        schema:
          $ref: '#/definitions/api.TransactionReviewRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Transaction reviewed
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Invalid JSON or parameters
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Failed to review transaction
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BasicAuth: []
      summary: Review a transaction
      tags:
      - Transactions
  /admin/transactions/user/{user_id}:
    get:
      description: Retrieves transactions for a specific user (admin only)
      parameters:
      - description: User ID
        in: path
        name: user_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.Transaction'
            type: array
        "400":
          description: Invalid user ID
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Failed to retrieve transactions
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BasicAuth: []
      summary: Get transactions by user ID
      tags:
      - Transactions
  /admin/users/activation:
    put:
      consumes:
      - application/json
      description: Allows for an admin
      parameters:
      - description: User activation data
        in: body
        name: activation
        required: true
        schema:
          $ref: '#/definitions/api.UserActivationRequest'
      produces:
      - application/json
      responses:
        "200":
          description: User status updated
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Invalid JSON or user ID
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: User not found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Failed to update user status
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Activate or deactivate a user
      tags:
      - Admin
  /alerts:
    get:
      description: Retrieves all alerts for the authenticated user
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.Alert'
            type: array
        "400":
          description: Invalid user ID
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Failed to retrieve alerts
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get user alerts
      tags:
      - Alerts
    post:
      consumes:
      - application/json
      description: Allows a user to create a price or time-based alert
      parameters:
      - description: Alert data
        in: body
        name: alert
        required: true
        schema:
          $ref: '#/definitions/api.AlertRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Alert created
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Invalid JSON or parameters
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Failed to create alert
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Create a new alert
      tags:
      - Alerts
  /alerts/{id}:
    get:
      description: Retrieves details of a specific alert
      parameters:
      - description: Alert ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Alert'
        "400":
          description: Invalid alert ID
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Alert not found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get alert by ID
      tags:
      - Alerts
  /api/v1/admin/referrals:
    get:
      consumes:
      - application/json
      description: Retrieves all users' referral data with pagination (admin only)
      parameters:
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 10
        description: Items per page
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Paginated referral data
          schema:
            $ref: '#/definitions/api.PaginatedReferralsResponse'
        "400":
          description: Invalid query parameters
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get all referrals (Admin)
      tags:
      - Admin
  /api/v1/referrals:
    get:
      consumes:
      - application/json
      description: Retrieves the referral details for the authenticated user (who
        referred them and who they referred)
      parameters:
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 10
        description: Items per page
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: User referral data
          schema:
            $ref: '#/definitions/api.UserReferralResponse'
        "400":
          description: Invalid query parameters
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - X-Telegram-ID: []
      summary: Get user's referral information
      tags:
      - User
  /api/v1/transactions/{id}:
    get:
      description: Retrieves details of a specific transaction by its ID (admin only)
      parameters:
      - description: Transaction ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Transaction'
        "400":
          description: Invalid transaction ID
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden (non-admin)
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Transaction not found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get transaction by ID
      tags:
      - Transactions
  /copy-trade-leaders:
    get:
      description: Retrieves a list of approved copy trade leaders
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.UserAccount'
            type: array
        "500":
          description: Failed to retrieve leaders
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get approved copy trade leaders
      tags:
      - CopyTrading
  /copy-trades:
    get:
      description: Retrieves all copy trade subscriptions for the authenticated user
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.CopyTradeSubscription'
            type: array
        "400":
          description: Invalid user ID
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Failed to retrieve subscriptions
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get user copy trade subscriptions
      tags:
      - CopyTrading
    post:
      consumes:
      - application/json
      description: Allows a user to follow a trader and allocate funds for copy trading
      parameters:
      - description: Subscription data
        in: body
        name: subscription
        required: true
        schema:
          $ref: '#/definitions/api.CopyTradeRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Subscription created
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Invalid JSON or parameters
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Failed to create subscription
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Create a copy trade subscription
      tags:
      - CopyTrading
  /copy-trades-all:
    get:
      description: Retrieves all copy trade subscriptions for the authenticated user
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.CopyTradeSubscription'
            type: array
        "400":
          description: Invalid user ID
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Failed to retrieve subscriptions
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get user copy trade subscriptions
      tags:
      - CopyTrading
  /copy-trades/{id}:
    get:
      description: Retrieves details of a specific copy trade subscription
      parameters:
      - description: Subscription ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.CopyTradeSubscription'
        "400":
          description: Invalid subscription ID
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Subscription not found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get copy trade subscription by ID
      tags:
      - CopyTrading
  /leader-requests:
    get:
      description: Retrieves all pending leader requests for admin review
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.LeaderRequest'
            type: array
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Failed to retrieve leader requests
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get pending leader requests
      tags:
      - CopyTrading
    post:
      consumes:
      - application/json
      description: Allows a user to submit a request to become a copy trade leader
      parameters:
      - description: Leader request data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/api.CreateLeaderRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Leader request created
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Invalid JSON or parameters
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Failed to create leader request
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Request to become a copy trade leader
      tags:
      - CopyTrading
  /leader-requests/{id}/approve:
    post:
      consumes:
      - application/json
      description: Allows an admin to approve a leader request
      parameters:
      - description: Request ID
        in: path
        name: id
        required: true
        type: string
      - description: Admin reason
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/api.ManageLeaderRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Leader request approved
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Invalid JSON or parameters
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Failed to approve leader request
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Approve a leader request
      tags:
      - CopyTrading
  /leader-requests/{id}/deny:
    post:
      consumes:
      - application/json
      description: Allows an admin to deny a leader request
      parameters:
      - description: Request ID
        in: path
        name: id
        required: true
        type: string
      - description: Admin reason
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/api.ManageLeaderRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Leader request denied
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Invalid JSON or parameters
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Failed to deny leader request
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Deny a leader request
      tags:
      - CopyTrading
  /prices:
    post:
      consumes:
      - application/json
      description: Receives and processes price data for a trading symbol
      parameters:
      - description: Price data
        in: body
        name: priceData
        required: true
        schema:
          $ref: '#/definitions/models.PriceData'
      produces:
      - application/json
      responses:
        "200":
          description: Price received
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Invalid JSON
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Failed to process price
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Process new price data
      tags:
      - Prices
  /rules:
    get:
      description: Retrieves a list of all rules (accessible to all users)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.Rule'
            type: array
        "500":
          description: Failed to retrieve rules
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get all rules
      tags:
      - Rules
  /symbols:
    get:
      description: Retrieves a list of all trading symbols
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.Symbol'
            type: array
        "500":
          description: Failed to retrieve symbols
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get all symbols
      tags:
      - Symbols
  /symbols/{id}:
    get:
      description: Retrieves details of a trading symbol by ID
      parameters:
      - description: Symbol ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Symbol'
        "400":
          description: Invalid symbol ID
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Symbol not found
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get symbol by ID
      tags:
      - Symbols
  /trade-response:
    post:
      consumes:
      - application/json
      description: Processes trade response from MT5 EA
      parameters:
      - description: Trade response data
        in: body
        name: response
        required: true
        schema:
          $ref: '#/definitions/interfaces.TradeResponse'
      produces:
      - application/json
      responses:
        "200":
          description: Response processed
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Invalid JSON or parameters
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Handle trade response from MT5
      tags:
      - Trades
  /trades:
    get:
      description: Retrieves a list of trades for the authenticated user
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.TradeHistory'
            type: array
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get user trades
      tags:
      - Trades
    post:
      consumes:
      - application/json
      description: Allows an authenticated user to place a trade order
      parameters:
      - description: Trade order data
        in: body
        name: trade
        required: true
        schema:
          $ref: '#/definitions/api.TradeRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Trade placed
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid JSON or parameters
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Place a new trade
      tags:
      - Trades
  /trades/{id}:
    get:
      description: Retrieves details of a specific trade by its ID (user or admin)
      parameters:
      - description: Trade ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.TradeHistory'
        "400":
          description: Invalid trade ID
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden (trade belongs to another user)
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Trade not found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get trade by ID
      tags:
      - Trades
  /trades/{id}/close:
    post:
      consumes:
      - application/json
      description: Allows an authenticated user to close an open trade
      parameters:
      - description: Trade ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Trade close requested
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid trade ID
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden (trade belongs to another user)
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Trade not found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Close a trade
      tags:
      - Trades
  /trades/{id}/modify:
    put:
      consumes:
      - application/json
      description: Modify the entry price and/or volume of a pending trade
      parameters:
      - description: Trade ID
        in: path
        name: id
        required: true
        type: string
      - description: Modify trade request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/api.ModifyTradeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/interfaces.TradeResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "408":
          description: Request Timeout
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - Bearer: []
      summary: Modify a pending trade
      tags:
      - Trades
  /trades/stream:
    get:
      description: Initiates streaming of a user's trade orders
      produces:
      - application/json
      responses:
        "200":
          description: Streaming started
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Stream user trades
      tags:
      - Trades
  /transactions:
    get:
      description: Retrieves all transactions for the authenticated user
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.Transaction'
            type: array
        "400":
          description: Invalid user ID
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Failed to retrieve transactions
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get user transactions
      tags:
      - Transactions
    post:
      consumes:
      - application/json
      description: Allows a user to request a deposit or withdrawal
      parameters:
      - description: Transaction data
        in: body
        name: transaction
        required: true
        schema:
          $ref: '#/definitions/api.TransactionRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Transaction requested
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Invalid JSON or parameters
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Failed to create transaction
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Request a new transaction
      tags:
      - Transactions
  /users:
    get:
      description: Retrieves a list of all users
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.UserAccount'
            type: array
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get all users
      tags:
      - Users
  /users/{id}:
    get:
      description: Retrieves details of a user by their ID
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.UserAccount'
        "400":
          description: Invalid user ID
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: User not found
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get user by ID
      tags:
      - Users
  /users/edit:
    post:
      consumes:
      - application/json
      description: Edit new user account via Telegram
      parameters:
      - description: User account details
        in: body
        name: user
        required: true
        schema:
          $ref: '#/definitions/models.UserAccount'
      produces:
      - application/json
      responses:
        "201":
          description: User created
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid JSON
          schema:
            additionalProperties:
              type: string
            type: object
        "409":
          description: User already exists
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Edit user
      tags:
      - Users
  /users/login:
    post:
      consumes:
      - application/json
      description: Validates a user via Telegram ID
      parameters:
      - description: Telegram ID
        in: body
        name: credentials
        required: true
        schema:
          $ref: '#/definitions/api.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: User details
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid JSON
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: User not found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: User login
      tags:
      - Users
  /users/me/{id}:
    get:
      description: Retrieves the user's information using Telegram ID
      parameters:
      - description: Telegram ID of the user
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.UserAccount'
        "400":
          description: Bad request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get current user
      tags:
      - Users
  /users/signup:
    post:
      consumes:
      - application/json
      description: Creates a new user account via Telegram
      parameters:
      - description: User account details
        in: body
        name: user
        required: true
        schema:
          $ref: '#/definitions/models.UserAccount'
      produces:
      - application/json
      responses:
        "201":
          description: User created
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid JSON
          schema:
            additionalProperties:
              type: string
            type: object
        "409":
          description: User already exists
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Sign up a new user
      tags:
      - Users
swagger: "2.0"
