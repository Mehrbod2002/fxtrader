definitions:
  api.LoginRequest:
    properties:
      password:
        type: string
      telegram_id:
        type: string
    required:
    - password
    - telegram_id
    type: object
  api.TradeRequest:
    properties:
      entry_price:
        type: number
      leverage:
        type: integer
      symbol_name:
        type: string
      trade_type:
        allOf:
        - $ref: '#/definitions/models.TradeType'
        enum:
        - BUY
        - SELL
      volume:
        type: number
    required:
    - entry_price
    - leverage
    - symbol_name
    - trade_type
    - volume
    type: object
  api.TransactionRequest:
    properties:
      amount:
        type: number
      payment_method:
        allOf:
        - $ref: '#/definitions/models.PaymentMethod'
        enum:
        - CARD_TO_CARD
        - DEPOSIT_RECEIPT
      receipt_image:
        type: string
      transaction_type:
        allOf:
        - $ref: '#/definitions/models.TransactionType'
        enum:
        - DEPOSIT
        - WITHDRAWAL
    required:
    - amount
    - payment_method
    - transaction_type
    type: object
  api.TransactionReviewRequest:
    properties:
      admin_note:
        type: string
      status:
        allOf:
        - $ref: '#/definitions/models.TransactionStatus'
        enum:
        - APPROVED
        - REJECTED
    required:
    - status
    type: object
  models.LogEntry:
    properties:
      _id:
        type: string
      action:
        type: string
      description:
        type: string
      ip_address:
        type: string
      metadata:
        additionalProperties: true
        type: object
      timestamp:
        type: string
      user_id:
        type: string
    type: object
  models.PaymentMethod:
    enum:
    - CARD_TO_CARD
    - DEPOSIT_RECEIPT
    type: string
    x-enum-varnames:
    - PaymentMethodCardToCard
    - PaymentMethodDepositReceipt
  models.PriceData:
    properties:
      ask:
        type: number
      bid:
        type: number
      symbol:
        type: string
      timestamp:
        type: integer
    type: object
  models.Rule:
    properties:
      _id:
        type: string
      content:
        type: string
      created_at:
        type: string
    type: object
  models.Symbol:
    properties:
      _id:
        type: string
      category:
        type: string
      commission:
        type: number
      created_at:
        type: string
      denied_accounts:
        items:
          type: string
        type: array
      display_name:
        type: string
      is_trading_open:
        type: boolean
      leverage:
        type: integer
      max_lot:
        type: number
      min_lot:
        type: number
      spread:
        type: number
      symbol_name:
        type: string
      trading_hours:
        $ref: '#/definitions/models.TradingHours'
      updated_at:
        type: string
    type: object
  models.TradeHistory:
    properties:
      _id:
        type: string
      close_price:
        type: number
      close_time:
        type: string
      entry_price:
        type: number
      leverage:
        type: integer
      open_time:
        type: string
      profit_loss:
        type: number
      status:
        $ref: '#/definitions/models.TradeStatus'
      symbol_name:
        type: string
      trade_type:
        $ref: '#/definitions/models.TradeType'
      user_id:
        type: string
      volume:
        type: number
    type: object
  models.TradeStatus:
    enum:
    - OPEN
    - CLOSED
    - PENDING
    type: string
    x-enum-varnames:
    - TradeStatusOpen
    - TradeStatusClosed
    - TradeStatusPending
  models.TradeType:
    enum:
    - BUY
    - SELL
    type: string
    x-enum-varnames:
    - TradeTypeBuy
    - TradeTypeSell
  models.TradingHours:
    properties:
      close_time:
        type: string
      open_time:
        type: string
      unlimited:
        type: boolean
    type: object
  models.Transaction:
    properties:
      _id:
        type: string
      admin_note:
        type: string
      amount:
        type: number
      payment_method:
        $ref: '#/definitions/models.PaymentMethod'
      receipt_image:
        type: string
      request_time:
        type: string
      response_time:
        type: string
      status:
        $ref: '#/definitions/models.TransactionStatus'
      transaction_type:
        $ref: '#/definitions/models.TransactionType'
      user_id:
        type: string
    type: object
  models.TransactionStatus:
    enum:
    - PENDING
    - APPROVED
    - REJECTED
    type: string
    x-enum-varnames:
    - TransactionStatusPending
    - TransactionStatusApproved
    - TransactionStatusRejected
  models.TransactionType:
    enum:
    - DEPOSIT
    - WITHDRAWAL
    type: string
    x-enum-varnames:
    - TransactionTypeDeposit
    - TransactionTypeWithdrawal
info:
  contact: {}
paths:
  /admin/logs:
    get:
      description: Retrieves a list of all system logs (admin only)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.LogEntry'
            type: array
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Failed to retrieve logs
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BasicAuth: []
      summary: Get all logs
      tags:
      - Logs
  /admin/logs/user/{user_id}:
    get:
      description: Retrieves logs associated with a specific user ID (admin only)
      parameters:
      - description: User ID
        in: path
        name: user_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.LogEntry'
            type: array
        "400":
          description: Invalid user ID
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BasicAuth: []
      summary: Get logs by user ID
      tags:
      - Logs
  /admin/rules:
    post:
      consumes:
      - application/json
      description: Adds a new rule to the system (admin only)
      parameters:
      - description: Rule data
        in: body
        name: rule
        required: true
        schema:
          $ref: '#/definitions/models.Rule'
      produces:
      - application/json
      responses:
        "201":
          description: Rule created
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Invalid JSON or empty content
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Failed to create rule
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BasicAuth: []
      summary: Create a new rule
      tags:
      - Rules
  /admin/rules/{id}:
    delete:
      description: Removes a rule from the system (admin only)
      parameters:
      - description: Rule ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Rule deleted
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Failed to delete rule
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BasicAuth: []
      summary: Delete a rule
      tags:
      - Rules
    get:
      description: Retrieves details of a rule by ID (admin only)
      parameters:
      - description: Rule ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Rule'
        "400":
          description: Invalid rule ID
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Rule not found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BasicAuth: []
      summary: Get rule by ID
      tags:
      - Rules
    put:
      consumes:
      - application/json
      description: Updates the content of an existing rule (admin only)
      parameters:
      - description: Rule ID
        in: path
        name: id
        required: true
        type: string
      - description: Updated rule data
        in: body
        name: rule
        required: true
        schema:
          $ref: '#/definitions/models.Rule'
      produces:
      - application/json
      responses:
        "200":
          description: Rule updated
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Invalid JSON or empty content
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Failed to update rule
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BasicAuth: []
      summary: Update a rule
      tags:
      - Rules
  /admin/symbols:
    post:
      consumes:
      - application/json
      description: Adds a new trading symbol to the system (admin only)
      parameters:
      - description: Symbol data
        in: body
        name: symbol
        required: true
        schema:
          $ref: '#/definitions/models.Symbol'
      produces:
      - application/json
      responses:
        "201":
          description: Symbol created
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Invalid JSON
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Failed to create symbol
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BasicAuth: []
      summary: Create a new symbol
      tags:
      - Symbols
  /admin/symbols/{id}:
    delete:
      description: Removes a trading symbol from the system (admin only)
      parameters:
      - description: Symbol ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Symbol deleted
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Failed to delete symbol
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BasicAuth: []
      summary: Delete a symbol
      tags:
      - Symbols
    put:
      consumes:
      - application/json
      description: Updates the details of an existing trading symbol (admin only)
      parameters:
      - description: Symbol ID
        in: path
        name: id
        required: true
        type: string
      - description: Updated symbol data
        in: body
        name: symbol
        required: true
        schema:
          $ref: '#/definitions/models.Symbol'
      produces:
      - application/json
      responses:
        "200":
          description: Symbol updated
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Invalid JSON
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Failed to update symbol
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BasicAuth: []
      summary: Update a symbol
      tags:
      - Symbols
  /admin/transactions:
    get:
      description: Retrieves a list of all transactions (admin only)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.Transaction'
            type: array
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Failed to retrieve transactions
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BasicAuth: []
      summary: Get all transactions
      tags:
      - Transactions
  /admin/transactions/{id}:
    put:
      consumes:
      - application/json
      description: Approves or rejects a transaction with an optional note (admin
        only)
      parameters:
      - description: Transaction ID
        in: path
        name: id
        required: true
        type: string
      - description: Review data
        in: body
        name: review
        required: true
        schema:
          $ref: '#/definitions/api.TransactionReviewRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Transaction reviewed
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Invalid JSON or parameters
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Failed to review transaction
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BasicAuth: []
      summary: Review a transaction
      tags:
      - Transactions
  /admin/transactions/user/{user_id}:
    get:
      description: Retrieves transactions for a specific user (admin only)
      parameters:
      - description: User ID
        in: path
        name: user_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.Transaction'
            type: array
        "400":
          description: Invalid user ID
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Failed to retrieve transactions
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BasicAuth: []
      summary: Get transactions by user ID
      tags:
      - Transactions
  /prices:
    post:
      consumes:
      - application/json
      description: Receives and processes price data for a trading symbol
      parameters:
      - description: Price data
        in: body
        name: priceData
        required: true
        schema:
          $ref: '#/definitions/models.PriceData'
      produces:
      - application/json
      responses:
        "200":
          description: Price received
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Invalid JSON
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Failed to process price
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Process new price data
      tags:
      - Prices
  /rules:
    get:
      description: Retrieves a list of all rules (accessible to all users)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.Rule'
            type: array
        "500":
          description: Failed to retrieve rules
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get all rules
      tags:
      - Rules
  /symbols:
    get:
      description: Retrieves a list of all trading symbols
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.Symbol'
            type: array
        "500":
          description: Failed to retrieve symbols
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get all symbols
      tags:
      - Symbols
  /symbols/{id}:
    get:
      description: Retrieves details of a trading symbol by ID
      parameters:
      - description: Symbol ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Symbol'
        "400":
          description: Invalid symbol ID
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Symbol not found
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Get symbol by ID
      tags:
      - Symbols
  /trades:
    get:
      description: Retrieves all trades for the authenticated user
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.TradeHistory'
            type: array
        "400":
          description: Invalid user ID
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Failed to retrieve trades
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BasicAuth: []
      summary: Get user trades
      tags:
      - Trades
    post:
      consumes:
      - application/json
      description: Allows a user to place a trade order
      parameters:
      - description: Trade order data
        in: body
        name: trade
        required: true
        schema:
          $ref: '#/definitions/api.TradeRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Trade placed
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Invalid JSON or parameters
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Failed to place trade
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BasicAuth: []
      summary: Place a new trade
      tags:
      - Trades
  /trades/{id}:
    get:
      description: Retrieves details of a trade by ID
      parameters:
      - description: Trade ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.TradeHistory'
        "400":
          description: Invalid trade ID
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Trade not found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BasicAuth: []
      summary: Get trade by ID
      tags:
      - Trades
  /transactions:
    get:
      description: Retrieves all transactions for the authenticated user
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.Transaction'
            type: array
        "400":
          description: Invalid user ID
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Failed to retrieve transactions
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get user transactions
      tags:
      - Transactions
    post:
      consumes:
      - application/json
      description: Allows a user to request a deposit or withdrawal
      parameters:
      - description: Transaction data
        in: body
        name: transaction
        required: true
        schema:
          $ref: '#/definitions/api.TransactionRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Transaction requested
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Invalid JSON or parameters
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Failed to create transaction
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Request a new transaction
      tags:
      - Transactions
  /users/login:
    post:
      consumes:
      - application/json
      description: Authenticates a user and returns a JWT token
      parameters:
      - description: User credentials
        in: body
        name: credentials
        required: true
        schema:
          $ref: '#/definitions/api.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Token
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Invalid JSON
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Invalid credentials
          schema:
            additionalProperties:
              type: string
            type: object
      summary: User login
      tags:
      - Users
swagger: "2.0"
